# 折腾

用Vim有一段时间了。最大的体验就是：折腾。没有比这些上古编辑器更能折腾的东西。不过通过一番折腾，也学到了不少东西。
由于LSP（Language Server Protocal）和 Neovim(Vim 8)的出现，让这个上古编辑器有了新的生机。至少通过LSP和异步的特性，基本上使Vim有了现代编辑器的体验。这是前提，如果没有这两个东西，我是绝对不会去折腾Vim的，即使折腾这东西让人看起来非常的Hacking。
即使有了这两个特性，但要想达到可用的程度，还是免不了一番折腾。由于我的水平以及精力非常有限，所以选择了Neovim和SpaceVim这个开箱即用的环境，加上coc.nvim这个LSP插件，基本上在编码方面（只谈编码方面，其他的肯定比不过现代编辑器和IDE）可以有类似甚至超过VSCode的体验。
可能你会问，为啥不用vscode呢？当然了，我也非常想用VSCode，但是VSCode是在是太慢了。在我的笔记本上，用VSCode写一个很小的C++工程（一两千行左右的样子），过一会儿上下翻页就非常的卡。另外，最近写Python比较多，VSCode的Python跳转也非常的慢，不知道是不是环境配置的问题。

本质上Vim的精髓在于它的编辑模式，倒不必执着Vim本身这个编辑器。理论上最完美的配置是现代IDE和Vim的那一套编辑模式（其实用那套著名的快捷键来给Vim贴标签不足以突出Vim的核心），但是用过很多IDE + Vim插件，基本上或多或少都有问题，无法带来100%的Vim编辑模式的体验。
由于以上考虑，当Vim有了现代特性的前提下，基于TUI的Vim还是值得一试的。

之前自己非常的菜（现在也很菜），主要是写C++，离开了IDE(VS)几乎不能写代码。确实是这样，尤其是对于像C/C++这种古老并且贴近硬件的语言，没有一个官方的工程和包管理工具。都是直接把源代码扔给编译器编译然后链接，实际上也确实是这么做的。对于C/C++来说，包管理自始至终是个大问题，这也就是为什么写c++首推IDE,而不是编辑器。有了IDE的加持，这些细节便不再重要，只管写代码了。然而C/C++的根本问题还是没解决：依赖的管理。当需要外部依赖的时候，即使是IDE，也需要一番折腾，甚至有时候折腾起来更加的麻烦。最近的情况有所改观，当微软推出了vcpkg，经过两三年的发展，在Windows上的C/C++的包管理的问题得到了一定程度的缓解，到目前为止，大多数常用的库都能通过vcpkg来管理，并且和vs工程和CMake紧密结合。而且自VS2017之后，VS原生支持CMake，使得VS编写C/C++更加方便。如果不考虑其他的因素，在Windows平台上，VS + CMake + ResharperC++写C/C++应该有最完美的体验。

之前经常想这样一个问题，为什么我离开了VS或者Pycharm这些东西再写代码就感觉举步维艰呢？ 其实在各种IDE的繁杂的外表下，我们编码所需要的一系列辅助功能的重要性已经被掩盖了。也就是说用IDE的时候，我们感觉每项功能我们都是必须的，如果没这些功能，自己根本写不了代码。
总结一下IDE在编码方面提供的一些便利：

- 工程管理
- 语法高亮
- 自动补全
- 静态检查
- 查找定义，引用
- 调试
- 重构
- 性能分析
- 方便的快捷键
- ... 

没错，上面列出来的每一个特性都是一个合格的IDE必须提供并且每一项功能的体验应该都非常完美。因为IDE为每一项特性提供了完美的体验，让我们感觉到少了任何一项特性都会让编码体验大幅度降低。
然而，当仔细地去思考一下在编码过程中，使用每一项特性的频率或者说是重要性都无差别吗？如果确实相等，那编辑器没有任何和IDE较良的可能，IDE之所以是IDE,就是因为它能在各个方面达到平衡，如果每一项都是我们所必须的，那编辑器如何和每一项都做得最好的IDE抗衡呢？很显然不是。
其实写代码的过程中，离开了一些功能或者说一些功能不是特别完美，我们会发现影响并不是很大。



用Vim开发必须具备的基本功能：

查找定义引用
对于Python来说，pygements只能产生引用。需要ctags产生定义，然后才能结合Leaderf使用。因此编译gtags的时候需要加上--with-universal-ctags=path/to/ctags




